<div class="registro-container">
  <form [formGroup]="form" (ngSubmit)="onSubmit()" class="registro-card">
    <h1>Registro de Empleado</h1>
    <p class="subtitle">Completa los datos para registrar un nuevo empleado</p>

    <div class="grid-formulario">
      <!-- Nombre de usuario -->
      <div class="campo">
        <label for="username">Nombre de usuario</label>
        <input id="username" type="text" formControlName="username" />
        <div class="error" *ngIf="form.get('username')?.touched && form.get('username')?.errors">
          <ng-container *ngIf="form.get('username')?.errors?.['required']">Este campo es obligatorio.</ng-container>
          <ng-container *ngIf="form.get('username')?.errors?.['minlength']">Debe tener al menos 3 caracteres.</ng-container>
        </div>
      </div>

      <!-- Contraseña -->
      <div class="campo">
        <label for="password">Contraseña</label>
        <input id="password" type="password" formControlName="password" />
        <div class="error" *ngIf="form.get('password')?.touched && form.get('password')?.errors">
          <ng-container *ngIf="form.get('password')?.errors?.['required']">Este campo es obligatorio.</ng-container>
          <ng-container *ngIf="form.get('password')?.errors?.['minlength']">Debe tener al menos 6 caracteres.</ng-container>
        </div>
      </div>

      <!-- Repetir contraseña -->
      <div class="campo">
        <label for="repetirPassword">Repetir contraseña</label>
        <input id="repetirPassword" type="password" formControlName="repetirPassword" />
        <div class="error" *ngIf="form.errors?.['passwordMismatch'] && form.get('repetirPassword')?.touched">
          Las contraseñas no coinciden.
        </div>
      </div>

      <!-- Nombre -->
      <div class="campo">
        <label for="nombre">Nombre</label>
        <input id="nombre" type="text" formControlName="nombre" />
        <div class="error" *ngIf="form.get('nombre')?.touched && form.get('nombre')?.errors">
          <ng-container *ngIf="form.get('nombre')?.errors?.['required']">Este campo es obligatorio.</ng-container>
          <ng-container *ngIf="form.get('nombre')?.errors?.['pattern']">Solo se permiten letras y espacios.</ng-container>
        </div>        
      </div>

      <!-- Apellidos -->
      <div class="campo">
        <label for="apellidos">Apellidos</label>
        <input id="apellidos" type="text" formControlName="apellidos" />
        <div class="error" *ngIf="form.get('apellidos')?.touched && form.get('apellidos')?.errors">
          <ng-container *ngIf="form.get('apellidos')?.errors?.['required']">Este campo es obligatorio.</ng-container>
          <ng-container *ngIf="form.get('apellidos')?.errors?.['pattern']">Solo se permiten letras y espacios.</ng-container>
        </div>        
      </div>

      <!-- Fecha de nacimiento -->
      <div class="campo">
        <label for="fechaNacimiento">Fecha de nacimiento</label>
        <input id="fechaNacimiento" type="date" formControlName="fechaNacimiento" />
        <div class="error" *ngIf="form.get('fechaNacimiento')?.touched && form.get('fechaNacimiento')?.errors">
          <ng-container *ngIf="form.get('fechaNacimiento')?.errors?.['required']">Este campo es obligatorio.</ng-container>
          <ng-container *ngIf="form.get('fechaNacimiento')?.errors?.['fechaFutura']">La fecha no puede ser posterior a hoy.</ng-container>
        </div>
      </div>

      <!-- Correo electrónico -->
      <div class="campo">
        <label for="correoElectronico">Correo electrónico</label>
        <input id="correoElectronico" type="email" formControlName="correoElectronico" />
        <div class="error" *ngIf="form.get('correoElectronico')?.touched && form.get('correoElectronico')?.errors">
          <ng-container *ngIf="form.get('correoElectronico')?.errors?.['required']">Este campo es obligatorio.</ng-container>
          <ng-container *ngIf="form.get('correoElectronico')?.errors?.['email']">Debe ser un correo válido.</ng-container>
        </div>
      </div>

      <!-- Teléfono -->
      <div class="campo">
        <label for="telefono">Teléfono</label>
        <input id="telefono" type="tel" formControlName="telefono" />
        <div class="error" *ngIf="form.get('telefono')?.touched && form.get('telefono')?.errors">
          <ng-container *ngIf="form.get('telefono')?.errors?.['required']">Este campo es obligatorio.</ng-container>
          <ng-container *ngIf="form.get('telefono')?.errors?.['pattern']">Debe tener exactamente 9 dígitos.</ng-container>
        </div>
      </div>

      <!-- Dirección -->
      <div class="campo">
        <label for="direccion">Dirección</label>
        <input id="direccion" type="text" formControlName="direccion" />
        <div class="error" *ngIf="form.get('direccion')?.touched && form.get('direccion')?.errors?.['required']">
          Este campo es obligatorio.
        </div>
      </div>

      <!-- Cargo -->
      <div class="campo">
        <label for="cargo">Cargo</label>
        <input id="cargo" type="text" formControlName="cargo" />
        <div class="error" *ngIf="form.get('cargo')?.touched && form.get('cargo')?.errors">
          <ng-container *ngIf="form.get('cargo')?.errors?.['required']">Este campo es obligatorio.</ng-container>
          <ng-container *ngIf="form.get('cargo')?.errors?.['minlength']">Debe tener al menos 3 caracteres.</ng-container>
        </div>
      </div>
    </div>

    <button type="submit" [disabled]="form.invalid" class="registro-button">
      Registrar
    </button>

    <div *ngIf="mensajeError" class="error">
      {{ mensajeError }}
    </div>
    <div *ngIf="mensajeExito" class="exito">
      {{ mensajeExito }}
    </div>
  </form>
</div>
